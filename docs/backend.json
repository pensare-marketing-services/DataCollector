{
  "entities": {
    "GatherWiseUser": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "GatherWiseUser",
      "type": "object",
      "description": "Represents a user who has submitted data through the GatherWise app.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the GatherWiseUser entity."
        },
        "photo": {
          "type": "string",
          "description": "Base64 encoded string of the user's photo."
        },
        "phoneNumber": {
          "type": "string",
          "description": "User's phone number."
        },
        "age": {
          "type": "number",
          "description": "User's age.",
          "format": "integer"
        },
        "mandalam": {
          "type": "string",
          "description": "User's Mandalam."
        },
        "mekhala": {
          "type": "string",
          "description": "User's Mekhala."
        },
        "unit": {
          "type": "string",
          "description": "User's Unit."
        },
        "submissionDate": {
          "type": "string",
          "description": "Date and time when the user submitted the data.",
          "format": "date-time"
        },
        "acceptedDeclaration": {
          "type": "boolean",
          "description": "Indicates whether the user accepted the declaration."
        }
      },
      "required": [
        "id",
        "photo",
        "phoneNumber",
        "age",
        "mandalam",
        "mekhala",
        "unit",
        "submissionDate",
        "acceptedDeclaration"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/gatherwise_users/{gatherwiseUserId}",
        "definition": {
          "entityName": "GatherWiseUser",
          "schema": {
            "$ref": "#/backend/entities/GatherWiseUser"
          },
          "description": "Stores user data collected through the GatherWise app. Includes fields for photo, phone number, age, Mandalam, Mekhala, unit, submission date, and acceptance of the declaration. The document ID is the user's unique ID.",
          "params": [
            {
              "name": "gatherwiseUserId",
              "description": "The unique identifier for the GatherWiseUser entity."
            }
          ]
        }
      }
    ],
    "reasoning": "The data structure is designed to store user data collected through the GatherWise application.  Given the requirement for filtering data based on name, age, Mandalam, Mekhala, and unit in the future dashboard, all user data will be stored under a single collection called `gatherwise_users`. Authorization Independence is achieved because all data related to a specific user is self-contained within that user's document; there's no reliance on data outside of the document for authorization. This design supports simple list operations with security rules based on user roles (if roles are added in the future; currently, no specific roles are defined, but the structure allows for easy extension). The structure is also designed to support future features such as a dashboard and filtering."
  }
}